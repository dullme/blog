---
title: 找回 macOS 因修改用户名后丢失的管理员权限
tags:
  - 管理员权限
  - 修改用户名
categories:
  - macOS
date: 2017-12-08 10:36:43
---


> macOS 系统因修改用户名后丢失管理员权限的问题可以尝试以下方法进行恢复，为了写这篇文章我只好以身试法！

# 以身试法

* 当你在用户与群组下选中管理员账户并右键点击高级选项去修改账户名称与全名时你要注意了，你可以修改全名但是最好不要去修改账户名称，因为一旦你修改了账户名称保存后你的管理员权限将不复存在！

{% asset_img change.png %}

* 这里我将账户名称改成了 dullme 并且把全名也改成了 DULLME，下图可以看到我的当前用户变成了普通成员而不是之前的管理员了。

{% asset_img user.png %}

# 创建新的管理员

* 失去管理员身份后会导致很多操作无法进行，所以我们务必要找回管理员权限。思路大概如下，首先想办法重新创建一个管理员账户，然后用新创建的管理员账户赋予原来那个失去管理员身份的账户为管理员账户，最后将新创建的管理员账户删除即可。

* 首先电脑关机，关机后同时按住键盘上的 Command 和 S 键保持不放，然后按一下开机键，当你看到黑色的命令行界面或者要求输入密码的界面时放开Command 和 S 键，具体画面如下。

{% asset_img mac.jpg %}

* 依次输入下面三行命令后电脑会重启。

```
/sbin/mount -uaw
rm var/db/.AppleSetupDone
reboot
```

* 重启后你会看到下面的欢迎界面，按照提示一步一步进行操作，最后会创建一个新的管理员账户并登录。

{% asset_img welcome.png %}

* 最后你只需将原来的账户设置成管理员即可，然后切换到原来的账户将刚创建的账户删除即可。

{% asset_img admin.png %}

* 这样你的管理员权限就回来了，貌似破解别人的密码也可以这么操作，这是不是一个 BUG 啊！